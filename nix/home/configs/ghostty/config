# Ghostty 终端配置
# 基于 nixos-config 的配置，保持 Maple Mono NF CN 字体
# 配置文档: https://ghostty.org/docs/config

# ===== 字体设置 =====
font-family = JetBrains Mono
font-size = 13

# 连字功能
font-feature = +calt,+clig,+liga

# 字体调整
adjust-cell-height = 30%
adjust-icon-height = 110%

# ===== 窗口设置 =====
window-padding-x = 12
window-padding-y = 12
window-padding-balance = true
window-padding-color = extend
window-decoration = auto

# 背景透明度
background-opacity = 0.93
background-blur = 20

# 窗口主题
window-theme = auto

# ===== 主题 =====
theme = Catppuccin Mocha

# 未聚焦窗口透明度
unfocused-split-opacity = 0.7

# ===== 光标 =====
cursor-style = bar
cursor-style-blink = true
cursor-opacity = 1.0

# ===== 标签页 =====
window-new-tab-position = current
window-inherit-working-directory = true
window-inherit-font-size = true

# ===== 鼠标 =====
mouse-hide-while-typing = true
mouse-scroll-multiplier = 3
copy-on-select = clipboard

# ===== 剪贴板 =====
clipboard-read = allow
clipboard-write = allow
clipboard-trim-trailing-spaces = true
clipboard-paste-protection = true
clipboard-paste-bracketed-safe = true

# ===== 滚动 =====
scrollback-limit = 100000

# ===== 链接 =====
link-url = true

# ===== Shell 集成 =====
shell-integration = detect
shell-integration-features = cursor,sudo,title

# 默认启动 zsh
command = zsh -l

# ===== 性能 =====
window-vsync = true

# ===== 其他 =====
confirm-close-surface = false
quit-after-last-window-closed = true

# ===== 快捷键 =====

# --- 复制和粘贴 ---
keybind = ctrl+shift+c=copy_to_clipboard
keybind = ctrl+shift+v=paste_from_clipboard

# --- 屏幕清理 ---
keybind = ctrl+shift+k=clear_screen
keybind = ctrl+l=clear_screen

# --- 标签页管理 ---
keybind = ctrl+shift+t=new_tab
keybind = ctrl+shift+w=close_tab
keybind = ctrl+tab=next_tab
keybind = ctrl+shift+tab=previous_tab

# --- 窗口管理 ---
keybind = ctrl+shift+n=new_window
keybind = f11=toggle_fullscreen

# --- 字体大小 ---
keybind = ctrl+equal=increase_font_size:1
keybind = ctrl+plus=increase_font_size:1
keybind = ctrl+minus=decrease_font_size:1
keybind = ctrl+zero=reset_font_size

# --- 滚动操作 ---
keybind = shift+page_up=scroll_page_up
keybind = shift+page_down=scroll_page_down
keybind = shift+up=scroll_page_lines:-1
keybind = shift+down=scroll_page_lines:1

# --- 面板分割（Tmux 风格）---
keybind = ctrl+a>shift+five=new_split:right
keybind = ctrl+a>shift+apostrophe=new_split:down
keybind = ctrl+a>x=close_surface
keybind = ctrl+a>z=toggle_split_zoom

# 面板导航（Vim 风格）
keybind = ctrl+a>h=goto_split:left
keybind = ctrl+a>j=goto_split:bottom
keybind = ctrl+a>k=goto_split:top
keybind = ctrl+a>l=goto_split:right

# 面板导航（Alt 快捷键）
keybind = alt+h=goto_split:left
keybind = alt+j=goto_split:bottom
keybind = alt+k=goto_split:top
keybind = alt+l=goto_split:right

# 面板大小调整
keybind = ctrl+left=resize_split:left,10
keybind = ctrl+right=resize_split:right,10
keybind = ctrl+up=resize_split:up,5
keybind = ctrl+down=resize_split:down,5

# --- 配置重载 ---
keybind = ctrl+shift+comma=reload_config

# --- 标签页切换（数字键）---
keybind = ctrl+one=goto_tab:1
keybind = ctrl+two=goto_tab:2
keybind = ctrl+three=goto_tab:3
keybind = ctrl+four=goto_tab:4
keybind = ctrl+five=goto_tab:5
keybind = ctrl+six=goto_tab:6
keybind = ctrl+seven=goto_tab:7
keybind = ctrl+eight=goto_tab:8
keybind = ctrl+nine=goto_tab:9

# Alt 备选方案
keybind = alt+one=goto_tab:1
keybind = alt+two=goto_tab:2
keybind = alt+three=goto_tab:3
keybind = alt+four=goto_tab:4
keybind = alt+five=goto_tab:5
keybind = alt+six=goto_tab:6
keybind = alt+seven=goto_tab:7
keybind = alt+eight=goto_tab:8
keybind = alt+nine=goto_tab:9
