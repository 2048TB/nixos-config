# 快捷键说明

本文档包含 NixOS 桌面环境的所有快捷键配置。

---

## 窗口管理器 (Niri)

### 基础操作

| 快捷键 | 功能 |
|--------|------|
| `Super` + `Shift` + `?` | 显示快捷键帮助 |
| `Super` + `Q` | 关闭当前窗口 |
| `Ctrl` + `Alt` + `Del` | 退出会话（确认对话框） |
| `Super` + `Esc` | 切换快捷键抑制模式 |

### 应用启动

| 快捷键 | 功能 |
|--------|------|
| `Super` + `Enter` | 打开终端 (Ghostty) |
| `Super` + `Shift` + `Enter` | 打开终端 (Ghostty) |
| `Super` + `D` / `Space` | 启动器 (Launcher) |
| `Super` + `P` | 窗口切换器 (Vicinae) |
| `Ctrl` + `Alt` + `L` | 锁屏 |

### 窗口焦点导航

#### Vim 风格 (推荐)

| 快捷键 | 功能 |
|--------|------|
| `Super` + `H` | 焦点移到左侧列 |
| `Super` + `J` | 焦点移到下方窗口 |
| `Super` + `K` | 焦点移到上方窗口 |
| `Super` + `L` | 焦点移到右侧列 |

#### 方向键

| 快捷键 | 功能 |
|--------|------|
| `Super` + `←` | 焦点移到左侧列 |
| `Super` + `↓` | 焦点移到下方窗口 |
| `Super` + `↑` | 焦点移到上方窗口 |
| `Super` + `→` | 焦点移到右侧列 |
| `Super` + `Home` | 焦点移到第一列 |
| `Super` + `End` | 焦点移到最后一列 |

### 窗口移动

#### Vim 风格

| 快捷键 | 功能 |
|--------|------|
| `Super` + `Ctrl` + `H` | 移动列到左侧 |
| `Super` + `Ctrl` + `J` | 移动窗口到下方 |
| `Super` + `Ctrl` + `K` | 移动窗口到上方 |
| `Super` + `Ctrl` + `L` | 移动列到右侧 |

#### 方向键

| 快捷键 | 功能 |
|--------|------|
| `Super` + `Ctrl` + `←` | 移动列到左侧 |
| `Super` + `Ctrl` + `↓` | 移动窗口到下方 |
| `Super` + `Ctrl` + `↑` | 移动窗口到上方 |
| `Super` + `Ctrl` + `→` | 移动列到右侧 |
| `Super` + `Ctrl` + `Home` | 移动列到第一位置 |
| `Super` + `Ctrl` + `End` | 移动列到最后位置 |

### 多显示器操作

#### Vim 风格

| 快捷键 | 功能 |
|--------|------|
| `Super` + `Shift` + `H` | 焦点移到左侧显示器 |
| `Super` + `Shift` + `J` | 焦点移到下方显示器 |
| `Super` + `Shift` + `K` | 焦点移到上方显示器 |
| `Super` + `Shift` + `L` | 焦点移到右侧显示器 |

#### 移动窗口到其他显示器

| 快捷键 | 功能 |
|--------|------|
| `Super` + `Shift` + `Ctrl` + `H` | 移动列到左侧显示器 |
| `Super` + `Shift` + `Ctrl` + `J` | 移动列到下方显示器 |
| `Super` + `Shift` + `Ctrl` + `K` | 移动列到上方显示器 |
| `Super` + `Shift` + `Ctrl` + `L` | 移动列到右侧显示器 |

### 工作区管理

#### 数字工作区 (命名工作区)

| 快捷键 | 功能 | 工作区名称 |
|--------|------|-----------|
| `Super` + `1` | 切换到工作区 1 | 1terminal |
| `Super` + `2` | 切换到工作区 2 | 2browser |
| `Super` + `3` | 切换到工作区 3 | 3chat |
| `Super` + `4` | 切换到工作区 4 | 4music |
| `Super` + `5` | 切换到工作区 5 | 5mail |
| `Super` + `6` | 切换到工作区 6 | 6file |
| `Super` + `7-9` | 切换到工作区 7-9 | 数字工作区 |
| `Super` + `0` | 切换到工作区 0 | 0other |

#### 移动窗口到工作区

| 快捷键 | 功能 |
|--------|------|
| `Super` + `Ctrl` + `1-9` | 移动列到对应工作区 |
| `Super` + `Ctrl` + `0` | 移动列到工作区 0 |

#### 工作区导航

| 快捷键 | 功能 |
|--------|------|
| `Super` + `U` / `Page Down` | 切换到下一个工作区 |
| `Super` + `I` / `Page Up` | 切换到上一个工作区 |
| `Super` + `Ctrl` + `U` | 移动列到下一个工作区 |
| `Super` + `Ctrl` + `I` | 移动列到上一个工作区 |
| `Super` + `Shift` + `U` | 移动整个工作区到下方 |
| `Super` + `Shift` + `I` | 移动整个工作区到上方 |

### 窗口布局

| 快捷键 | 功能 |
|--------|------|
| `Super` + `R` | 切换列宽预设 (1/3, 1/2, 2/3) |
| `Super` + `Shift` + `R` | 切换窗口高度预设 |
| `Super` + `Ctrl` + `R` | 重置窗口高度 |
| `Super` + `F` | 最大化列 |
| `Super` + `Shift` + `F` | 全屏窗口 |
| `Super` + `Ctrl` + `F` | 扩展列到可用宽度 |
| `Super` + `Ctrl` + `C` | 居中显示所有可见列 |
| `Super` + `V` | 切换窗口浮动/平铺 |
| `Super` + `W` | 切换列的标签页显示模式 |

#### 精细调整

| 快捷键 | 功能 |
|--------|------|
| `Super` + `-` | 列宽 -10% |
| `Super` + `=` | 列宽 +10% |
| `Super` + `Shift` + `-` | 窗口高度 -10% |
| `Super` + `Shift` + `=` | 窗口高度 +10% |

### 列管理

| 快捷键 | 功能 |
|--------|------|
| `Super` + `[` | 消费/驱逐窗口到左侧列 |
| `Super` + `]` | 消费/驱逐窗口到右侧列 |
| `Super` + `,` | 消费右侧窗口到当前列底部 |
| `Super` + `.` | 驱逐当前列底部窗口到右侧 |

### 截图

| 快捷键 | 功能 |
|--------|------|
| `Print` | 区域截图 |
| `Ctrl` + `Print` | 全屏截图 |
| `Alt` + `Print` | 窗口截图 |

### 系统功能

| 快捷键 | 功能 |
|--------|------|
| `Super` + `S` | 控制中心 |
| `Super` + `E` | 会话菜单 |
| `Super` + `C` | 计算器 |
| `Super` + `Shift` + `V` | 剪贴板历史 |
| `Super` + `Shift` + `P` | 关闭显示器 |

### 媒体控制

| 快捷键 | 功能 |
|--------|------|
| `XF86AudioRaiseVolume` | 增加音量 |
| `XF86AudioLowerVolume` | 降低音量 |
| `XF86AudioMute` | 静音/取消静音 |
| `XF86AudioMicMute` | 麦克风静音 |
| `XF86AudioPlay` | 播放/暂停 |
| `XF86AudioStop` | 停止播放 |
| `XF86AudioPrev` | 上一首 |
| `XF86AudioNext` | 下一首 |

### 亮度控制

| 快捷键 | 功能 |
|--------|------|
| `XF86MonBrightnessUp` | 增加屏幕亮度 |
| `XF86MonBrightnessDown` | 降低屏幕亮度 |
| `XF86KbdBrightnessUp` | 增加键盘背光 |
| `XF86KbdBrightnessDown` | 降低键盘背光 |

---

## 终端 (Ghostty)

### 复制粘贴

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `Shift` + `C` | 复制 |
| `Ctrl` + `Shift` + `V` | 粘贴 |
| `Alt` + `C` | 复制（备选） |
| `Alt` + `V` | 粘贴（备选） |
| `Ctrl` + `Shift` + `A` | 全选 |

### 屏幕管理

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `Shift` + `K` | 清屏 |
| `Ctrl` + `L` | 清屏（备选） |

### 标签页管理

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `T` / `Ctrl` + `Shift` + `T` | 新建标签页 |
| `Ctrl` + `W` | 关闭当前面板 |
| `Ctrl` + `Shift` + `W` | 关闭标签页 |
| `Ctrl` + `Tab` | 下一个标签页 |
| `Ctrl` + `Shift` + `Tab` | 上一个标签页 |
| `Ctrl` + `1-9` | 切换到第 N 个标签页 |
| `Alt` + `1-9` | 切换到第 N 个标签页（备选） |

### 窗口管理

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `N` / `Ctrl` + `Shift` + `N` | 新建窗口 |
| `F11` | 全屏切换 |

### 字体大小

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `+` / `Ctrl` + `=` | 增大字体 |
| `Ctrl` + `-` | 减小字体 |
| `Ctrl` + `0` | 重置字体大小 |

### 滚动操作

| 快捷键 | 功能 |
|--------|------|
| `Shift` + `Page Up` | 向上翻页 |
| `Shift` + `Page Down` | 向下翻页 |
| `Shift` + `↑` | 向上滚动一行 |
| `Shift` + `↓` | 向下滚动一行 |
| `Shift` + `Home` | 滚动到顶部 |
| `Shift` + `End` | 滚动到底部 |

### 面板分割 (Tmux 风格)

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `A` > `V` | 垂直分割（右侧新面板） |
| `Ctrl` + `A` > `S` | 水平分割（下方新面板） |
| `Ctrl` + `A` > `X` | 关闭当前面板 |
| `Ctrl` + `A` > `Z` | 切换面板缩放 |

### 面板导航 (Vim 风格)

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `A` > `H` | 移到左侧面板 |
| `Ctrl` + `A` > `J` | 移到下方面板 |
| `Ctrl` + `A` > `K` | 移到上方面板 |
| `Ctrl` + `A` > `L` | 移到右侧面板 |

### 面板导航 (Alt 快捷方式)

| 快捷键 | 功能 |
|--------|------|
| `Alt` + `H` | 移到左侧面板 |
| `Alt` + `J` | 移到下方面板 |
| `Alt` + `K` | 移到上方面板 |
| `Alt` + `L` | 移到右侧面板 |

### 面板大小调整

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `←` | 向左缩小 10px |
| `Ctrl` + `→` | 向右扩大 10px |
| `Ctrl` + `↑` | 向上缩小 5px |
| `Ctrl` + `↓` | 向下扩大 5px |

### 配置和调试

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `Shift` + `,` | 重新加载配置 |
| `Ctrl` + `A` > `R` | 重新加载配置（备选） |
| `Ctrl` + `A` > `I` | 切换检查器 |

### Shell 整合

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `Shift` + `↑` | 跳到上一个提示符 |
| `Ctrl` + `Shift` + `↓` | 跳到下一个提示符 |
| `Shift` + `Enter` | 插入转义换行符 |

---

## 终端复用器 (Tmux)

如果使用 tmux，默认前缀键为 `Ctrl` + `B`：

### 基础操作

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `B` > `?` | 显示帮助 |
| `Ctrl` + `B` > `D` | 分离会话 |
| `Ctrl` + `B` > `$` | 重命名会话 |

### 窗口管理

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `B` > `C` | 创建新窗口 |
| `Ctrl` + `B` > `N` | 下一个窗口 |
| `Ctrl` + `B` > `P` | 上一个窗口 |
| `Ctrl` + `B` > `0-9` | 切换到第 N 个窗口 |
| `Ctrl` + `B` > `,` | 重命名窗口 |
| `Ctrl` + `B` > `&` | 关闭窗口 |

### 面板管理

| 快捷键 | 功能 |
|--------|------|
| `Ctrl` + `B` > `%` | 垂直分割 |
| `Ctrl` + `B` > `"` | 水平分割 |
| `Ctrl` + `B` > `↑/↓/←/→` | 切换面板 |
| `Ctrl` + `B` > `X` | 关闭面板 |
| `Ctrl` + `B` > `Z` | 切换面板缩放 |
| `Ctrl` + `B` > `Space` | 切换布局 |

---

## 注意事项

1. **Super 键**: 在 Wayland 下即 `Windows` 键，在 TTY 下为 `Alt` 键
2. **Vim 风格导航**: 推荐使用 `HJKL` 进行导航，与 Vim 一致
3. **Tmux 风格分割**: Ghostty 的面板分割快捷键模仿 tmux 操作习惯
4. **工作区命名**: 工作区 1-6 和 0 使用命名方式，方便识别用途
5. **媒体键**: 需要支持 MPRIS 的播放器（如 mpv、VLC）

---

## 配置文件位置

- **Niri 配置**: `/home/<user>/nixos-config/nix/home/configs/niri/keybindings.kdl`
- **Ghostty 配置**: `/home/<user>/nixos-config/nix/home/configs/ghostty/ghostty-config`

修改配置后执行 `sudo nixos-rebuild switch --flake .#nixos-config` 应用更改。
